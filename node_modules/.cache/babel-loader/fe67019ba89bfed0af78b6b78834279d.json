{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/lucasgiuri/Desktop/pruebass/with-jest-app/components/Layout/Layout.js\";\nimport React, { useEffect, useState, useRef } from 'react';\nimport Menu from '../../components/Menu/Menu';\nimport Sidebar from '../../components/Sidebar/Sidebar';\nimport Header from '../../components/Header/Header';\nimport './Layout.scss';\n\nvar Layout = function Layout(_ref) {\n  var children = _ref.children;\n  var menuRef = useRef(null);\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      showSidebar = _useState2[0],\n      onShowSidebar = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      scrollPosition = _useState4[0],\n      setScrollPosition = _useState4[1];\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      translateY = _useState6[0],\n      setTranslateY = _useState6[1];\n\n  useEffect(function () {\n    var onScroll = function onScroll() {\n      var newScrollPosition = window.pageYOffset < 0 ? 0 : window.pageYOffset;\n      var menuHeight = menuRef.current ? menuRef.current.clientHeight : 0;\n      var scrollDiff = scrollPosition - newScrollPosition;\n      var newTranslateY = translateY + scrollDiff;\n\n      if (newTranslateY > 0) {\n        newTranslateY = 0;\n      }\n\n      if (newTranslateY < -menuHeight) {\n        newTranslateY = -menuHeight;\n      }\n\n      setScrollPosition(newScrollPosition);\n\n      if (translateY === newTranslateY) {\n        return;\n      }\n\n      setTranslateY(newTranslateY);\n    };\n\n    window.addEventListener('scroll', onScroll);\n    return function () {\n      window.removeEventListener('scroll', onScroll);\n    };\n  }, [translateY, scrollPosition]);\n  var navigationClasses = ['layout__navigation'];\n\n  if (scrollPosition >= 800) {\n    navigationClasses = [].concat(_toConsumableArray(navigationClasses), ['layout__navigation--without-background']);\n  }\n\n  return React.createElement(\"div\", {\n    className: \"layout\",\n    ref: menuRef,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(Sidebar, {\n    onSidebarClick: function onSidebarClick() {\n      return onShowSidebar(false);\n    },\n    isOpen: showSidebar,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: navigationClasses.join(' '),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(Header, {\n    scrollPosition: scrollPosition,\n    onShowSidebar: onShowSidebar,\n    isSidebarOpen: showSidebar,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }), React.createElement(Menu, {\n    scrollPosition: scrollPosition,\n    onLinkClick: function onLinkClick() {\n      return onShowSidebar(false);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"layout__content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, children));\n};\n\nexport default Layout;","map":{"version":3,"sources":["/Users/lucasgiuri/Desktop/pruebass/with-jest-app/components/Layout/Layout.js"],"names":["React","useEffect","useState","useRef","Menu","Sidebar","Header","Layout","children","menuRef","showSidebar","onShowSidebar","scrollPosition","setScrollPosition","translateY","setTranslateY","onScroll","newScrollPosition","window","pageYOffset","menuHeight","current","clientHeight","scrollDiff","newTranslateY","addEventListener","removeEventListener","navigationClasses","join"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\nimport Menu from '../../components/Menu/Menu';\nimport Sidebar from '../../components/Sidebar/Sidebar';\nimport Header from '../../components/Header/Header';\nimport './Layout.scss';\n\nconst Layout = ({children}) => {\n\tconst menuRef = useRef(null);\n\tconst [showSidebar, onShowSidebar] = useState(null);\n\tconst [scrollPosition, setScrollPosition] = useState(0);\n\tconst [translateY, setTranslateY] = useState(0);\n\n\tuseEffect(() => {\n\t\tconst onScroll = () => {\n\t\t\tconst newScrollPosition = window.pageYOffset < 0 ? 0: window.pageYOffset;\n\t\t\tconst menuHeight = menuRef.current ? menuRef.current.clientHeight : 0;\n\t\t\tconst scrollDiff = scrollPosition - newScrollPosition;\n\n\t\t\tlet newTranslateY = translateY + scrollDiff;\n\n\t\t\tif (newTranslateY > 0) {\n\t\t\t\tnewTranslateY = 0;\n\t\t\t}\n\n\t\t\tif (newTranslateY < -menuHeight) {\n\t\t\t\tnewTranslateY = -menuHeight;\n\t\t\t}\n\n\t\t\tsetScrollPosition(newScrollPosition);\n\n\t\t\tif (translateY === newTranslateY) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsetTranslateY(newTranslateY);\n\t\t};\n\n\t\twindow.addEventListener('scroll', onScroll);\n\n\t\treturn () => {\n\t\t\twindow.removeEventListener('scroll', onScroll);\n\t\t}\n\t}, [translateY, scrollPosition])\n\t\n\tlet navigationClasses = ['layout__navigation'];\n\t\n\tif (scrollPosition >= 800) {\n\t\tnavigationClasses = [...navigationClasses, 'layout__navigation--without-background'];\n\t}\n\treturn (\n\t\t<div className=\"layout\" ref={menuRef}>\n\t\t\t<Sidebar onSidebarClick={() => onShowSidebar(false)} isOpen={showSidebar}/>\n\t\t\t<div className={navigationClasses.join(' ')}>\n\t\t\t\t<Header scrollPosition={scrollPosition} onShowSidebar={onShowSidebar} isSidebarOpen={showSidebar}/>\n\t\t\t\t<Menu scrollPosition={scrollPosition} onLinkClick={() => onShowSidebar(false)}/>\n\t\t\t</div>\n\t\t\t<div className=\"layout__content\">\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Layout;"]},"metadata":{},"sourceType":"module"}